{"remainingRequest":"/Volumes/d/project/shopAdmin/node_modules/vue-loader/lib/index.js??vue-loader-options!/Volumes/d/project/shopAdmin/src/components/goods/addGoods.vue?vue&type=style&index=0&id=fdc15e44&lang=scss&scoped=true&","dependencies":[{"path":"/Volumes/d/project/shopAdmin/src/components/goods/addGoods.vue","mtime":1577095336000},{"path":"/Volumes/d/project/shopAdmin/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Volumes/d/project/shopAdmin/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Volumes/d/project/shopAdmin/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Volumes/d/project/shopAdmin/node_modules/sass-loader/dist/cjs.js","mtime":499162500000},{"path":"/Volumes/d/project/shopAdmin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Volumes/d/project/shopAdmin/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgouYWRkLWZvcm0gewogIHdpZHRoOiAxMDAwcHg7Cn0K"},{"version":3,"sources":["addGoods.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8JA;AACA;AACA","file":"addGoods.vue","sourceRoot":"src/components/goods","sourcesContent":["<template>\r\n  <div class=\"add-goods\">\r\n    <el-form \r\n      ref=\"form\" \r\n      :model=\"form\" \r\n      :rules=\"rules\" \r\n      label-width=\"100px\" \r\n      class=\"add-form\">\r\n      <el-form-item prop=\"goodsName\" label=\"商品名称：\">\r\n        <el-input v-model=\"form.goodsName\" placeholder=\"请输入商品名称\"></el-input>\r\n      </el-form-item>\r\n      <el-form-item prop=\"cate_id\" label=\"商品分类：\">\r\n        <el-select v-model=\"form.cate_id\" placeholder=\"请选择商品分类\">\r\n          <el-option \r\n            v-for=\"(cate, idx) in cateList\"\r\n            :key=\"idx\"\r\n            :label=\"cate.name\"\r\n            :value=\"cate.id\"></el-option>\r\n        </el-select>\r\n      </el-form-item>\r\n      <el-form-item label=\"商品描述：\">\r\n        <el-input type=\"textarea\" v-model=\"form.desc\"></el-input>\r\n      </el-form-item>\r\n      <el-form-item label=\"商品图片：\">\r\n        <el-upload\r\n          class=\"upload-demo\"\r\n          action=\"/api/profile\"\r\n          :on-preview=\"handlePreview\"\r\n          :on-remove=\"handleRemove\"\r\n          :file-list=\"fileList\"\r\n          name=\"img\"\r\n          list-type=\"picture\">\r\n          <el-button size=\"small\" type=\"primary\">点击上传</el-button>\r\n          <span slot=\"tip\" class=\"el-upload__tip\" style=\"margin-left: 20px;\">只能上传jpg/png文件，且不超过500kb</span>\r\n        </el-upload>\r\n      </el-form-item>\r\n      <el-form-item label=\"上下架：\">\r\n        <el-switch\r\n          v-model=\"form.upload\"\r\n          active-text=\"上架\"\r\n          inactive-text=\"下架\">\r\n        </el-switch>\r\n      </el-form-item>\r\n      <el-form-item label=\"首页推荐：\">\r\n        <el-switch\r\n          v-model=\"form.recommand\"\r\n          active-text=\"推荐\"\r\n          inactive-text=\"不推荐\">\r\n        </el-switch>\r\n      </el-form-item>\r\n      <hr>\r\n      <el-form-item label=\"多规格：\">\r\n        <el-switch\r\n          v-model=\"switchAttr\"\r\n          active-color=\"#13ce66\"\r\n          inactive-color=\"#999999\">\r\n        </el-switch>\r\n      </el-form-item>\r\n      <div class=\"single-attr\" v-show=\"!switchAttr\">\r\n        <el-form-item label=\"价格：\">\r\n          <el-input v-model=\"form.price\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"库存：\">\r\n          <el-input v-model=\"form.stock\"></el-input>\r\n        </el-form-item>\r\n      </div>\r\n      <div class=\"more-attr\" v-show=\"switchAttr\">\r\n        <el-form-item label=\"多规格：\">\r\n          <add-goods ref=\"moreAttr\"></add-goods>\r\n        </el-form-item>\r\n      </div>\r\n      <el-form-item label=\"商品详情：\">\r\n        <editor :value=\"form.detail\" @input=\"getDetail\"></editor>\r\n      </el-form-item>\r\n      <el-form-item>\r\n        <el-button type=\"primary\" @click=\"onSubmit('form')\">立即创建</el-button>\r\n        <el-button>取消</el-button>\r\n      </el-form-item>\r\n    </el-form>\r\n  </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport addGoods from '@/components/goods/goodsAttr.vue';\r\nimport editor from '@/components/common/editor.vue';\r\nexport default {\r\n  components: {\r\n    addGoods, editor,\r\n  },\r\n  data() {\r\n    return {\r\n      form: {\r\n        goodsName: '',\r\n        cate_id: '',\r\n        desc: '',\r\n        imgUrl: '',\r\n        price: '',\r\n        stock: '',\r\n        detail: '213213',\r\n        upload: true,\r\n        recommand: false\r\n      },\r\n      // 校验规则\r\n      rules: {\r\n        goodsName: [\r\n          { required: true, message: '请输入商品名称', trigger: 'blur' }\r\n        ],\r\n        cate_id: [\r\n          { required: true, message: '请选择商品分类', trigger: 'change' }\r\n        ],\r\n      },\r\n      // 是否启用多规格，默认不启用\r\n      switchAttr: false,\r\n      fileList: [],\r\n      // 测试商品分类\r\n      cateList: [\r\n        { id: 1, name: '汽车'},\r\n        { id: 2, name: '数码'},\r\n        { id: 3, name: '衣服'},\r\n        { id: 4, name: '家电'}\r\n      ]\r\n    }\r\n  },\r\n  methods: {\r\n    /* editorChange(val) {\r\n      console.log(val)\r\n    }, */\r\n    handlePreview() {\r\n\r\n    },\r\n    handleRemove() {\r\n\r\n    },\r\n    getDetail(content) {\r\n      console.log(content);\r\n      this.form.detail = content;\r\n    },\r\n    onSubmit(formName) {\r\n      this.$refs[formName].validate(valid => {\r\n        if(valid) {\r\n          let form = {};\r\n          Object.keys(this.form).forEach(key => {\r\n            form[key] = this.form[key];\r\n          });\r\n          form.attrList = this.$refs.moreAttr.tableData;\r\n          console.log(form);\r\n          console.log(JSON.stringify(form));\r\n        } else {\r\n          console.log('校验不通过');\r\n          return false;\r\n        }\r\n      })\r\n    }\r\n  }\r\n}\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n  .add-form {\r\n    width: 1000px;\r\n  }\r\n</style>\r\n<style lang=\"scss\" scoped>\r\n  .add-goods {\r\n    overflow-y: auto;\r\n    max-height: 780px;\r\n  }\r\n</style>\r\n"]}]}