{"remainingRequest":"/Volumes/d/project/shopAdmin/node_modules/babel-loader/lib/index.js!/Volumes/d/project/shopAdmin/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Volumes/d/project/shopAdmin/node_modules/vue-loader/lib/index.js??vue-loader-options!/Volumes/d/project/shopAdmin/src/components/goods/addGoods.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Volumes/d/project/shopAdmin/src/components/goods/addGoods.vue","mtime":1577095336000},{"path":"/Volumes/d/project/shopAdmin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Volumes/d/project/shopAdmin/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Volumes/d/project/shopAdmin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Volumes/d/project/shopAdmin/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2giOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3Qua2V5cyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2giOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgYWRkR29vZHMgZnJvbSAnQC9jb21wb25lbnRzL2dvb2RzL2dvb2RzQXR0ci52dWUnOwppbXBvcnQgZWRpdG9yIGZyb20gJ0AvY29tcG9uZW50cy9jb21tb24vZWRpdG9yLnZ1ZSc7CmV4cG9ydCBkZWZhdWx0IHsKICBjb21wb25lbnRzOiB7CiAgICBhZGRHb29kczogYWRkR29vZHMsCiAgICBlZGl0b3I6IGVkaXRvcgogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGZvcm06IHsKICAgICAgICBnb29kc05hbWU6ICcnLAogICAgICAgIGNhdGVfaWQ6ICcnLAogICAgICAgIGRlc2M6ICcnLAogICAgICAgIGltZ1VybDogJycsCiAgICAgICAgcHJpY2U6ICcnLAogICAgICAgIHN0b2NrOiAnJywKICAgICAgICBkZXRhaWw6ICcyMTMyMTMnLAogICAgICAgIHVwbG9hZDogdHJ1ZSwKICAgICAgICByZWNvbW1hbmQ6IGZhbHNlCiAgICAgIH0sCiAgICAgIC8vIOagoemqjOinhOWImQogICAgICBydWxlczogewogICAgICAgIGdvb2RzTmFtZTogW3sKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogJ+ivt+i+k+WFpeWVhuWTgeWQjeensCcsCiAgICAgICAgICB0cmlnZ2VyOiAnYmx1cicKICAgICAgICB9XSwKICAgICAgICBjYXRlX2lkOiBbewogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICBtZXNzYWdlOiAn6K+36YCJ5oup5ZWG5ZOB5YiG57G7JywKICAgICAgICAgIHRyaWdnZXI6ICdjaGFuZ2UnCiAgICAgICAgfV0KICAgICAgfSwKICAgICAgLy8g5piv5ZCm5ZCv55So5aSa6KeE5qC877yM6buY6K6k5LiN5ZCv55SoCiAgICAgIHN3aXRjaEF0dHI6IGZhbHNlLAogICAgICBmaWxlTGlzdDogW10sCiAgICAgIC8vIOa1i+ivleWVhuWTgeWIhuexuwogICAgICBjYXRlTGlzdDogW3sKICAgICAgICBpZDogMSwKICAgICAgICBuYW1lOiAn5rG96L2mJwogICAgICB9LCB7CiAgICAgICAgaWQ6IDIsCiAgICAgICAgbmFtZTogJ+aVsOeggScKICAgICAgfSwgewogICAgICAgIGlkOiAzLAogICAgICAgIG5hbWU6ICfooaPmnI0nCiAgICAgIH0sIHsKICAgICAgICBpZDogNCwKICAgICAgICBuYW1lOiAn5a6255S1JwogICAgICB9XQogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIC8qIGVkaXRvckNoYW5nZSh2YWwpIHsNCiAgICAgIGNvbnNvbGUubG9nKHZhbCkNCiAgICB9LCAqLwogICAgaGFuZGxlUHJldmlldzogZnVuY3Rpb24gaGFuZGxlUHJldmlldygpIHt9LAogICAgaGFuZGxlUmVtb3ZlOiBmdW5jdGlvbiBoYW5kbGVSZW1vdmUoKSB7fSwKICAgIGdldERldGFpbDogZnVuY3Rpb24gZ2V0RGV0YWlsKGNvbnRlbnQpIHsKICAgICAgY29uc29sZS5sb2coY29udGVudCk7CiAgICAgIHRoaXMuZm9ybS5kZXRhaWwgPSBjb250ZW50OwogICAgfSwKICAgIG9uU3VibWl0OiBmdW5jdGlvbiBvblN1Ym1pdChmb3JtTmFtZSkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgdGhpcy4kcmVmc1tmb3JtTmFtZV0udmFsaWRhdGUoZnVuY3Rpb24gKHZhbGlkKSB7CiAgICAgICAgaWYgKHZhbGlkKSB7CiAgICAgICAgICB2YXIgZm9ybSA9IHt9OwogICAgICAgICAgT2JqZWN0LmtleXMoX3RoaXMuZm9ybSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7CiAgICAgICAgICAgIGZvcm1ba2V5XSA9IF90aGlzLmZvcm1ba2V5XTsKICAgICAgICAgIH0pOwogICAgICAgICAgZm9ybS5hdHRyTGlzdCA9IF90aGlzLiRyZWZzLm1vcmVBdHRyLnRhYmxlRGF0YTsKICAgICAgICAgIGNvbnNvbGUubG9nKGZvcm0pOwogICAgICAgICAgY29uc29sZS5sb2coSlNPTi5zdHJpbmdpZnkoZm9ybSkpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBjb25zb2xlLmxvZygn5qCh6aqM5LiN6YCa6L+HJyk7CiAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["addGoods.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoFA,OAAA,QAAA,MAAA,kCAAA;AACA,OAAA,MAAA,MAAA,gCAAA;AACA,eAAA;AACA,EAAA,UAAA,EAAA;AACA,IAAA,QAAA,EAAA,QADA;AACA,IAAA,MAAA,EAAA;AADA,GADA;AAIA,EAAA,IAJA,kBAIA;AACA,WAAA;AACA,MAAA,IAAA,EAAA;AACA,QAAA,SAAA,EAAA,EADA;AAEA,QAAA,OAAA,EAAA,EAFA;AAGA,QAAA,IAAA,EAAA,EAHA;AAIA,QAAA,MAAA,EAAA,EAJA;AAKA,QAAA,KAAA,EAAA,EALA;AAMA,QAAA,KAAA,EAAA,EANA;AAOA,QAAA,MAAA,EAAA,QAPA;AAQA,QAAA,MAAA,EAAA,IARA;AASA,QAAA,SAAA,EAAA;AATA,OADA;AAYA;AACA,MAAA,KAAA,EAAA;AACA,QAAA,SAAA,EAAA,CACA;AAAA,UAAA,QAAA,EAAA,IAAA;AAAA,UAAA,OAAA,EAAA,SAAA;AAAA,UAAA,OAAA,EAAA;AAAA,SADA,CADA;AAIA,QAAA,OAAA,EAAA,CACA;AAAA,UAAA,QAAA,EAAA,IAAA;AAAA,UAAA,OAAA,EAAA,SAAA;AAAA,UAAA,OAAA,EAAA;AAAA,SADA;AAJA,OAbA;AAqBA;AACA,MAAA,UAAA,EAAA,KAtBA;AAuBA,MAAA,QAAA,EAAA,EAvBA;AAwBA;AACA,MAAA,QAAA,EAAA,CACA;AAAA,QAAA,EAAA,EAAA,CAAA;AAAA,QAAA,IAAA,EAAA;AAAA,OADA,EAEA;AAAA,QAAA,EAAA,EAAA,CAAA;AAAA,QAAA,IAAA,EAAA;AAAA,OAFA,EAGA;AAAA,QAAA,EAAA,EAAA,CAAA;AAAA,QAAA,IAAA,EAAA;AAAA,OAHA,EAIA;AAAA,QAAA,EAAA,EAAA,CAAA;AAAA,QAAA,IAAA,EAAA;AAAA,OAJA;AAzBA,KAAA;AAgCA,GArCA;AAsCA,EAAA,OAAA,EAAA;AACA;;;AAGA,IAAA,aAJA,2BAIA,CAEA,CANA;AAOA,IAAA,YAPA,0BAOA,CAEA,CATA;AAUA,IAAA,SAVA,qBAUA,OAVA,EAUA;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,OAAA;AACA,WAAA,IAAA,CAAA,MAAA,GAAA,OAAA;AACA,KAbA;AAcA,IAAA,QAdA,oBAcA,QAdA,EAcA;AAAA;;AACA,WAAA,KAAA,CAAA,QAAA,EAAA,QAAA,CAAA,UAAA,KAAA,EAAA;AACA,YAAA,KAAA,EAAA;AACA,cAAA,IAAA,GAAA,EAAA;AACA,UAAA,MAAA,CAAA,IAAA,CAAA,KAAA,CAAA,IAAA,EAAA,OAAA,CAAA,UAAA,GAAA,EAAA;AACA,YAAA,IAAA,CAAA,GAAA,CAAA,GAAA,KAAA,CAAA,IAAA,CAAA,GAAA,CAAA;AACA,WAFA;AAGA,UAAA,IAAA,CAAA,QAAA,GAAA,KAAA,CAAA,KAAA,CAAA,QAAA,CAAA,SAAA;AACA,UAAA,OAAA,CAAA,GAAA,CAAA,IAAA;AACA,UAAA,OAAA,CAAA,GAAA,CAAA,IAAA,CAAA,SAAA,CAAA,IAAA,CAAA;AACA,SARA,MAQA;AACA,UAAA,OAAA,CAAA,GAAA,CAAA,OAAA;AACA,iBAAA,KAAA;AACA;AACA,OAbA;AAcA;AA7BA;AAtCA,CAAA","sourcesContent":["<template>\r\n  <div class=\"add-goods\">\r\n    <el-form \r\n      ref=\"form\" \r\n      :model=\"form\" \r\n      :rules=\"rules\" \r\n      label-width=\"100px\" \r\n      class=\"add-form\">\r\n      <el-form-item prop=\"goodsName\" label=\"商品名称：\">\r\n        <el-input v-model=\"form.goodsName\" placeholder=\"请输入商品名称\"></el-input>\r\n      </el-form-item>\r\n      <el-form-item prop=\"cate_id\" label=\"商品分类：\">\r\n        <el-select v-model=\"form.cate_id\" placeholder=\"请选择商品分类\">\r\n          <el-option \r\n            v-for=\"(cate, idx) in cateList\"\r\n            :key=\"idx\"\r\n            :label=\"cate.name\"\r\n            :value=\"cate.id\"></el-option>\r\n        </el-select>\r\n      </el-form-item>\r\n      <el-form-item label=\"商品描述：\">\r\n        <el-input type=\"textarea\" v-model=\"form.desc\"></el-input>\r\n      </el-form-item>\r\n      <el-form-item label=\"商品图片：\">\r\n        <el-upload\r\n          class=\"upload-demo\"\r\n          action=\"/api/profile\"\r\n          :on-preview=\"handlePreview\"\r\n          :on-remove=\"handleRemove\"\r\n          :file-list=\"fileList\"\r\n          name=\"img\"\r\n          list-type=\"picture\">\r\n          <el-button size=\"small\" type=\"primary\">点击上传</el-button>\r\n          <span slot=\"tip\" class=\"el-upload__tip\" style=\"margin-left: 20px;\">只能上传jpg/png文件，且不超过500kb</span>\r\n        </el-upload>\r\n      </el-form-item>\r\n      <el-form-item label=\"上下架：\">\r\n        <el-switch\r\n          v-model=\"form.upload\"\r\n          active-text=\"上架\"\r\n          inactive-text=\"下架\">\r\n        </el-switch>\r\n      </el-form-item>\r\n      <el-form-item label=\"首页推荐：\">\r\n        <el-switch\r\n          v-model=\"form.recommand\"\r\n          active-text=\"推荐\"\r\n          inactive-text=\"不推荐\">\r\n        </el-switch>\r\n      </el-form-item>\r\n      <hr>\r\n      <el-form-item label=\"多规格：\">\r\n        <el-switch\r\n          v-model=\"switchAttr\"\r\n          active-color=\"#13ce66\"\r\n          inactive-color=\"#999999\">\r\n        </el-switch>\r\n      </el-form-item>\r\n      <div class=\"single-attr\" v-show=\"!switchAttr\">\r\n        <el-form-item label=\"价格：\">\r\n          <el-input v-model=\"form.price\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"库存：\">\r\n          <el-input v-model=\"form.stock\"></el-input>\r\n        </el-form-item>\r\n      </div>\r\n      <div class=\"more-attr\" v-show=\"switchAttr\">\r\n        <el-form-item label=\"多规格：\">\r\n          <add-goods ref=\"moreAttr\"></add-goods>\r\n        </el-form-item>\r\n      </div>\r\n      <el-form-item label=\"商品详情：\">\r\n        <editor :value=\"form.detail\" @input=\"getDetail\"></editor>\r\n      </el-form-item>\r\n      <el-form-item>\r\n        <el-button type=\"primary\" @click=\"onSubmit('form')\">立即创建</el-button>\r\n        <el-button>取消</el-button>\r\n      </el-form-item>\r\n    </el-form>\r\n  </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport addGoods from '@/components/goods/goodsAttr.vue';\r\nimport editor from '@/components/common/editor.vue';\r\nexport default {\r\n  components: {\r\n    addGoods, editor,\r\n  },\r\n  data() {\r\n    return {\r\n      form: {\r\n        goodsName: '',\r\n        cate_id: '',\r\n        desc: '',\r\n        imgUrl: '',\r\n        price: '',\r\n        stock: '',\r\n        detail: '213213',\r\n        upload: true,\r\n        recommand: false\r\n      },\r\n      // 校验规则\r\n      rules: {\r\n        goodsName: [\r\n          { required: true, message: '请输入商品名称', trigger: 'blur' }\r\n        ],\r\n        cate_id: [\r\n          { required: true, message: '请选择商品分类', trigger: 'change' }\r\n        ],\r\n      },\r\n      // 是否启用多规格，默认不启用\r\n      switchAttr: false,\r\n      fileList: [],\r\n      // 测试商品分类\r\n      cateList: [\r\n        { id: 1, name: '汽车'},\r\n        { id: 2, name: '数码'},\r\n        { id: 3, name: '衣服'},\r\n        { id: 4, name: '家电'}\r\n      ]\r\n    }\r\n  },\r\n  methods: {\r\n    /* editorChange(val) {\r\n      console.log(val)\r\n    }, */\r\n    handlePreview() {\r\n\r\n    },\r\n    handleRemove() {\r\n\r\n    },\r\n    getDetail(content) {\r\n      console.log(content);\r\n      this.form.detail = content;\r\n    },\r\n    onSubmit(formName) {\r\n      this.$refs[formName].validate(valid => {\r\n        if(valid) {\r\n          let form = {};\r\n          Object.keys(this.form).forEach(key => {\r\n            form[key] = this.form[key];\r\n          });\r\n          form.attrList = this.$refs.moreAttr.tableData;\r\n          console.log(form);\r\n          console.log(JSON.stringify(form));\r\n        } else {\r\n          console.log('校验不通过');\r\n          return false;\r\n        }\r\n      })\r\n    }\r\n  }\r\n}\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n  .add-form {\r\n    width: 1000px;\r\n  }\r\n</style>\r\n<style lang=\"scss\" scoped>\r\n  .add-goods {\r\n    overflow-y: auto;\r\n    max-height: 780px;\r\n  }\r\n</style>\r\n"],"sourceRoot":"src/components/goods"}]}